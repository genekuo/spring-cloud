[k8s setup and ops]
brew install kubectl
brew cask install minikube
brew cask install virtualbox

brew link --overwrite kubernetes-cli

kubectl version --client --short
minikube version
vboxmanage --version

minikube profile aepa-k8s
minikube config get profile

kubectl help

kubectl config get-contexts

kubectl config use-context aepak8s

kubectl config set-context $(kubectl config current-context) --namespace aepak8s

unset KUBECONFIG
minikube profile aepak8s
minikube config get profile

---

minikube start --memory=5120

minikube addons enable ingress
minikube addons enable metrics-server

kubectl get nodes
kubectl get pods --namespace=kube-system

kubectl create namespace first-attempts
kubectl config set-context $(kubectl config current-context) --namespace=first-attempts

kubectl apply -f kubernetes/first-attempts/nginx-deployment.yaml
kubectl get all

kubectl delete pod --selector app=nginx-app

kubectl apply -f kubernetes/first-attempts/nginx-service.yaml
kubectl get svc
minikube ip

http://<minikube_ip>:30080

[curl from inside]
kubectl run -i --rm --restart=Never curl-client --image=tutum/curl:alpine --command -- curl -s 'http://nginx-service:80'

kubectl delete namespace first-attempts

minikube stop
minikube start
kubectl config set-context $(kubectl config current-context) --namespace=aepak8s

minikube delete --profile aepak8s

rm -r ~/.minikube/profiles/aepak8s
kubectl config delete-context aepak8s
